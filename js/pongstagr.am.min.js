/*! ========================================================================== 
 * pongstagr.am v3.0.4 jQuery Plugin | http://pongstr.github.io/pongstagr.am/ 
 * =========================================================================== 
 * Copyright (c) 2014 Pongstr Ordillo. Licensed under MIT License. 
 * =========================================================================== */
+function(e){"use strict";var t=function(e,t){this.element=e;this.options=t;return this};t.defaults={accessId:null,accessToken:null,count:8,likes:true,comments:true,timestamp:true,effects:"scaling",show:"recent",full:true,preload:"spinner",button:"appetizer-button",buttontext:"Load more",column:"col-xs-12 col-sm-3 col-md-3 col-lg-2",likeicon:"fa fa-heart",muteicon:"fa fa-volume-off",videoicon:"fa fa-play",commenticon:"fa fa-comments",picture_size:64,show_counts:true,profile_bg_img:null,profile_bg_color:"#d9534f"};t.prototype.template={loadmore:function(t){var n=t.button;if(t.full!==false){n+=" button-margin"}var r='<div class="row">';r+='  <button class="'+n+'" data-paginate="'+t.show+'">';r+=t.buttontext;r+="  </button>";r+="</div>";t.insert!=="before"?e(t.target).after(r):e(t.target).before(r);return},profile:function(t){var n='<div class="row pongstgrm-profile">';n+=' <div class="col-xs-12 text-center">';n+='   <div class="instagram-thumbnail">';n+='     <img src="'+t.profile_picture+'" width="'+t.picture_size+'"  height="'+t.picture_size+'" alt="'+t.username+'">';n+="   </div>";n+='   <div class="counts">';n+='     <span class="h4">'+t.media+" <small>Posts</small></span>";n+='     <span class="h4">'+t.followed_by+" <small>Followers</small></span>";n+='     <span class="h4">'+t.follows+" <small>Following</small></span>";n+="   </div>";n+='   <div class="user-data">';n+="     <h3>"+t.username+"</h3>";n+="     <small>"+t.full_name+' - <a href="'+t.website+'">'+t.website+"</a></small>";n+="     <p>"+t.bio+"</p>";n+="   </div>";n+=" </div>";n+="</div>";e(t.target).append(n).css({"background-image":"url("+t.profile_bg_img+")","background-color":t.profile_bg_color});return},thumb:function(t){var n=t.dflt.column;if(t.dflt.full!==false){n+=" no-margin-padding"}var r='<div class="'+n+'">';r+=' <div class="instagram-thumbnail text-center '+t.dflt.effects+'">';t.dflt.timestamp!==false?r+="<h6>"+t.data.timestamp+"</h6>":null;r+='   <div class="'+t.dflt.preload+'" id="'+t.dflt.show+"-"+t.data.id+'-thmb-loadr" />';r+='   <a href="#'+t.data.id+'" id="triggr-'+t.data.id+'">';r+='     <img id="'+t.dflt.show+"-"+t.data.id+'-thmb" src="'+t.data.thumbnail+'" alt="'+t.data.caption+'">';r+="   </a>";t.dflt.type==="video"?r+='<span class="type"><i class="'+t.dflt.videoicon+'"></i></span>':"";t.dflt.likes!==false?r+='<span class="likes"><i class="'+t.dflt.likeicon+'"></i>&nbsp; '+t.data.likes_count+"</span>":"";t.dflt.comments!==false?r+='<span class="comments"><i class="'+t.dflt.commenticon+'"></i>&nbsp; '+t.data.comments_count+"</span>":"";r+=" </div>";r+="</div>";e(t.target).append(r);return},bsmodal:function(n){var r='<div class="alert">Your browser does not support HTML5 Videos or MPEG-4 format.</div>',i='<div class="'+n.dflt.preload+'" id="'+n.data.id+'-full-loadr"></div>';i+='<img id="'+n.data.id+'-full" src="'+n.data.image+'" alt="'+n.data.caption+'">';var s='<video id="'+n.data.id+'-video" width="100%" height="auto">';s+='  <source src="'+n.data.video+'" type="video/mp4">';s+=r;s+="</video>";s+='<button type="button" class="btn btn-lg" id="play-pause"><i class="fa fa-play"></i></button>';s+='<button type="button" class="btn btn-lg" id="mute"><i class="fa fa-volume-up"></i></button>';var o='<div id="'+n.data.id+'" class="modal fade">';o+='  <div class="modal-dialog">';o+='    <div class="modal-content">';o+='      <div class="modal-body">';o+='        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>';o+='        <div class="row">';o+='<div class="media-column">';n.data.type!=="video"?o+=i:navigator.userAgent.match(/webkit/i)||navigator.userAgent.match(/(iPod|iPhone|iPad)/)?o+=s:o+=r+i;o+="</div>";o+='<div class="media-comment">';o+='<div class="media">';o+='  <a href="https://instagram.com/'+n.data.username+'" class="media-object thumbnail pull-left">';o+='    <img src="'+n.data.profile_picture+'" width="'+n.dflt.picture_size+'" height="'+n.dflt.picture_size+'" class="">';o+="  </a>";o+='  <div class="modal-body">';o+='      <h6 class="media-heading">';o+='        <a href="https://instagram.com/'+n.data.username+'" target="_blank">'+n.data.username+"</a>";o+="      </h6>";n.data.caption!==null?o+="      <p>"+n.data.caption+"</p>":"";o+="  </div>";o+="</div>";n.data.comments_count!==0?e.each(n.data.comments_data,function(e,t){o+='<div class="media">';o+='  <a href="https://instagram.com/'+t.from.username+'" class="media-object thumbnail pull-left">';o+='    <img src="'+t.from.profile_picture+'" width="'+n.dflt.picture_size+'" height="'+n.dflt.picture_size+'">';o+="  </a>";o+='  <div class="modal-body">';o+='      <h6 class="media-heading">';o+='        <a href="https://instagram.com/'+t.from.username+'">'+t.from.username+"</a>";o+="      </h6>";o+="      <p>"+t.text+"</p>";o+="  </div>";o+="</div>"}):"";o+="        </div>";o+="      </div>";o+="    </div>";o+="  </div>";o+="</div>";e("#triggr-"+n.data.id).on("click",function(r){r.preventDefault();e("body").append(o);e("#"+n.data.id).modal("show").on("shown.bs.modal",function(){var r=document.getElementById(n.data.id+"-video");if(Modernizr.touch){e("body").bind("touchmove",function(e){e.preventDefault()})}t.prototype.preloadMedia({imgid:"#"+n.data.id+"-full",loadr:"#"+n.data.id+"-full-loadr"});t.prototype.videoBtn({trigger:"#play-pause",child:"i",classes:"fa-play fa-pause"},function(){r.paused===true?r.play():r.pause()});t.prototype.videoBtn({trigger:"#mute",child:"i",classes:"fa-volume-up fa-volume-off"},function(){r.muted===false?r.muted=true:r.muted=false})}).on("hidden.bs.modal",function(){e(this).remove();if(Modernizr.touch){e("body").unbind("touchmove")}})});return}};t.prototype.preloadMedia=function(t){var n=e(t.imgid),r=0;n.one("load",function(){++r===n.length&&e(t.loadr).fadeOut();e(this).addClass("fade")}).each(function(){this.complete&&e(this).load()});return};t.prototype.videoBtn=function(t,n){e(t.trigger).on("click",function(r){r.preventDefault();n();e(t.child,this).toggleClass(t.classes)});return};t.prototype.stream=function(){function o(t){t.url===undefined||t.url===null?e("[data-paginate="+t.show+"]").on("click",function(t){e(this).removeClass().addClass("btn btn-default").attr("disabled","disabled");t.preventDefault()}):e("[data-paginate="+t.show+"]").on("click",function(n){n.preventDefault();f({url:t.url,opt:t.opt});e(this).unbind(n)});return}function u(r,i){e.each(r,function(e,r){var s=new Date(r.created_time*1e3),o=s.toDateString(),u={dflt:i,target:n,data:{id:r.id,type:r.type,video:r.videos&&r.videos.standard_resolution.url,image:r.images.standard_resolution.url,caption:r.caption&&r.caption.text,username:r.user.username,timestamp:o,thumbnail:r.images.low_resolution.url,likes_count:r.likes.count,comments_count:r.comments.count,comments_data:r.comments.data,profile_picture:r.user.profile_picture}};t.prototype.template.thumb(u);t.prototype.preloadMedia({imgid:"#"+i.show+"-"+r.id+"-thmb",loadr:"#"+i.show+"-"+r.id+"-thmb-loadr"});t.prototype.template.bsmodal(u)})}function a(e,r){t.prototype.template.profile({target:n,bio:e.bio,media:e.counts.media,website:e.website,follows:e.counts.follows,username:e.username,full_name:e.full_name,followed_by:e.counts.followed_by,picture_size:r.picture_size,profile_bg_img:r.profile_bg_img,profile_picture:e.profile_picture,profile_bg_color:r.profile_bg_color});return}function f(t){e.ajax({url:t.url,cache:true,method:"GET",dataType:"jsonp",success:function(e){t.opt.show!=="profile"?u(e.data,t.opt):a(e.data,t.opt);t.opt.show!=="profile"&&o({show:t.opt.show,url:e.pagination.next_url,opt:t.opt})}});return}var n=this.element,r=this.options,i="https://api.instagram.com/v1/users/",s="?count="+r.count+"&access_token="+r.accessToken;switch(r.show){case"liked":f({url:i+"self/media/liked"+s,opt:r});break;case"feed":f({url:i+"self/feed"+s,opt:r});break;case"profile":f({url:i+r.accessId+"?access_token="+r.accessToken,opt:r});break;case"recent":f({url:i+r.accessId+"/media/recent"+s,opt:r});break;default:f({url:"https://api.instagram.com/v1/tags/"+r.show+"/media/recent"+s,opt:r})}return};t.prototype.create=function(){var n=this.element,r=this.options;e(n).attr("data-type",r.show).addClass("pongstagrm row");r.show!=="profile"&&t.prototype.template.loadmore({show:r.show,target:n,button:r.button,buttontext:r.buttontext});this.stream();return};t.prototype.start=function(){var e=this.options;if(e.accessId!==null||e.accessToken!==null){this.create();return}};e.fn.pongstgrm=function(n){var r=e.extend({},t.defaults,n);return this.each(function(){var n=new t(e(this)[0],r);n.start()})};e.fn.pongstgrm.defaults=t.options}(window.jQuery)